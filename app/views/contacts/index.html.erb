<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h1 class="h3 m-0">Contacts</h1>
    <% if @company.present? %>
      <p class="text-muted mb-0">Contacts for <strong><%= @company.name %></strong></p>
    <% end %>
  </div>
  <div>
    <% if @company.present? %>
      <%= link_to 'New Contact', new_contact_path(company_id: @company.id), class: 'btn btn-primary me-2' %>
      <%= link_to 'Back to Company', company_path(@company), class: 'btn btn-outline-secondary' %>
    <% else %>
      <%= link_to 'New Contact', new_contact_path, class: 'btn btn-primary' %>
    <% end %>
  </div>
</div>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Company</th>
      <th>Phone</th>
      <th>Created By</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @contacts.each do |c| %>
      <tr>
        <td><%= link_to c.customer_name, c %></td>
        <td><%= c.email %></td>
        <td><%= c.company_name %></td>
        <td><%= c.phone %></td>
        <td><%= c.user&.name || 'Unknown' %></td>
        <td class="text-end">
          <%= link_to 'Edit', edit_contact_path(c), class: 'btn btn-sm btn-outline-secondary' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
